>Ты долго это искал и вот, сокровище у тебя в руках, что же ты сделаешь...

Приветствую,

Для того, чтобы работать в РФ банках за бугром прежде всего нужно купить кинетик или микротик, однако в свете данной спеки, тебе нужен именно кинетик

Помимо покупки кинетика, нужно [еще арендовать сервер](https://firstbyte.ru/)  
Берем Ubuntu 18.04 минимальная комплектация, на момент написания тутора стоит 189 р/мес.  
После успешной покупки ожидаем, когда сервер будет готов  
  

![](https://telegra.ph/file/a21c60e52f7c539818193.png)

Во время ожидания можешь пока базово настроить кинетик и подключиться к нему.

### Настройка сервера

Когда сервак будет готов, переходим в терминал.  

Перед тем как приступить, нам нужно скачать скрипт, который приложен к этому тутору, далее вводим в терминал такую команду, чтобы закинуть скрипт на сервер:

``` powerShell
scp /{путь до файла}/wireguard-install.sh root@{айпи сервера}:/root
```

Пароль прописан в вашем ЛК аренды сервера, надеюсь, найдешь

- далее подключаемся к серверу, если не подключены:
```powerShell
ssh root@{айпи сервера}
```

- находим файл в папке /root:

```powerShell
ls
```

- ответом должен быть твой файл скрипта

```powerShell
./wireguard-install.sh
```

- запустится установка, со всем соглашаемся, нажимая либо Enter, либо прописываем yes, если требуется, как итог - выведется qr код и лог о том, что 
```
WireGuard is running.

You can check the status of WireGuard with: systemctl status wg-quick@wg0
```

- далее на нужен файл конфигурации, заглядываем в папку:
```powerShell
ls
```

- должно быть примерно так:
```
lsblk_raw  wg0-client-wiredGuard.conf  wireguard-install.sh
```

- выбираем файл `.conf`, через команду `cat`, пример:
```powerShell
cat wg0-client-wiredGuard.conf
```

- выведется определенная инфа, которую надо скопировать, выглядит примерно так:
```
[Interface]

PrivateKey = dkjsfah;sdlkfjas;df

Address = 10.66.66.2/32,fd42:42:42::2/128

DNS = 1.1.1.1,1.0.0.1

  

[Peer]

PublicKey = ';dslafkasd'

PresharedKey = lsdakfnmsdla;kfm

Endpoint = 157.38.65.121:58103

AllowedIPs = 0.0.0.0/0,::/0
```

- все это копируем и ВАЖНО - в файл формата `txt`

### Настройка кинетика

- первым делом качаем компонент (обязательно обновить перед этим прошивку кинетика)
![](https://telegra.ph/file/548c5c6120261f44b1710.png)
- ищем вайргард и устанавливаем ![](https://telegra.ph/file/28a37c4813e5bff16e708.png)
- идем в Интернет -> Другие подключения и грузим из файла наш конфиг в формате `.txt` и сохраняем ![](https://telegra.ph/file/6f0071a31533f7fc281c7.png)
- идем в Интернет -> Приоритеты подключений и тянем наш наш вайргард на верх, чтоб был приоритет перед провайдером, потом тут же создаем новую политику доступа, называем как хотим, опять поднимаем вайргард выше и отключаем провайдера ![](https://telegra.ph/file/4e89c55580beeb890bf31.png)
- и последний штрих - в своих устройствах находим рабочую машину и в настройках выдаем политику доступа, которую мы создали, чтобы не было подключения к провайдеру, если вдруг вайргард отвалится
